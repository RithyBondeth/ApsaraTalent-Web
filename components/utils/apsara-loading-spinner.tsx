import React, { useState, useEffect } from 'react';

interface ApsaraLoadingProps {
  size?: number;
  duration?: number;
  loop?: boolean;
  className?: string;
  onComplete?: () => void;
}

const ApsaraLoadingSpinner: React.FC<ApsaraLoadingProps> = ({ 
  size = 150, 
  duration = 2000,
  loop = true,
  className = "",
  onComplete 
}) => {
  const [isAnimating, setIsAnimating] = useState(true);
  const [progress, setProgress] = useState(0);

  useEffect(() => {
    let animationId: number;
    
    const startAnimation = () => {
      const startTime = Date.now();
      
      const animate = () => {
        const elapsed = Date.now() - startTime;
        const newProgress = Math.min(elapsed / duration, 1);
        
        setProgress(newProgress);
        
        if (newProgress < 1) {
          animationId = requestAnimationFrame(animate);
        } else {
          onComplete?.();
          
          if (loop) {
            // Brief pause before restarting
            setTimeout(() => {
              setProgress(0);
              startAnimation();
            }, 300);
          } else {
            setIsAnimating(false);
          }
        }
      };
      
      animationId = requestAnimationFrame(animate);
    };
    
    startAnimation();
    
    return () => {
      if (animationId) {
        cancelAnimationFrame(animationId);
      }
    };
  }, [duration, loop, onComplete]);

  return (
    <div className={`w-fit flex items-center justify-center ${className}`}>
      <svg
        width={size}
        height={size}
        viewBox="0 0 75 112.499997"
        style={{ 
          filter: 'drop-shadow(0 4px 8px rgba(0,0,0,0.1))',
          transform: isAnimating ? 'scale(1.05)' : 'scale(1)',
          transition: 'transform 0.3s ease'
        }}
      >
        <defs>
          <clipPath id="8b3c995eab">
            <path d="M 10.574219 3.84375 L 64.335938 3.84375 L 64.335938 108.378906 L 10.574219 108.378906 Z M 10.574219 3.84375 " clipRule="nonzero"/>
          </clipPath>
          
          {/* Gradient for the fill animation */}
          <linearGradient id="fillGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop 
              offset="0%" 
              stopColor="currentColor" 
              stopOpacity={progress > 0 ? "1" : "0"}
            />
            <stop 
              offset={`${progress * 100}%`} 
              stopColor="currentColor" 
              stopOpacity="1"
            />
            <stop 
              offset={`${progress * 100 + 1}%`} 
              stopColor="transparent" 
              stopOpacity="0"
            />
            <stop 
              offset="100%" 
              stopColor="transparent" 
              stopOpacity="0"
            />
          </linearGradient>

          {/* Animated gradient for wave effect */}
          <linearGradient id="waveGradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop 
              offset="0%" 
              stopColor="currentColor" 
              stopOpacity="0.3"
            />
            <stop 
              offset={`${progress * 100}%`} 
              stopColor="currentColor" 
              stopOpacity="1"
            />
            <stop 
              offset="100%" 
              stopColor="currentColor" 
              stopOpacity="0.1"
            />
          </linearGradient>
        </defs>

        <g clipPath="url(#8b3c995eab)">
          {/* Main path - outline version */}
          <path
            fill="none"
            stroke="currentColor"
            strokeWidth="0.5"
            d="M 47.597656 53.265625 C 47.726562 53.546875 47.886719 53.871094 48.128906 54.167969 C 48.054688 54.3125 47.984375 54.464844 47.933594 54.617188 C 47.765625 54.398438 47.597656 54.179688 47.429688 53.976562 L 47.363281 53.894531 C 46.765625 53.140625 46.214844 52.398438 46.097656 51.570312 C 46.042969 51.164062 46.097656 50.738281 46.203125 50.316406 Z M 63.613281 52.332031 L 63.515625 52.03125 C 63.296875 51.402344 63.039062 50.742188 62.628906 50.167969 C 62.121094 49.472656 61.449219 49.011719 60.722656 48.867188 C 60.039062 48.730469 59.34375 48.90625 58.839844 49.304688 C 58.425781 49.082031 57.945312 48.988281 57.472656 49.058594 C 56.933594 49.132812 56.441406 49.417969 56.097656 49.828125 C 54.90625 49.636719 53.695312 49.53125 52.480469 49.519531 C 52.371094 48.582031 52.03125 47.714844 51.699219 46.867188 C 51.398438 46.113281 51.121094 45.398438 51.007812 44.664062 C 50.945312 44.21875 50.941406 43.761719 50.933594 43.273438 C 50.925781 42.839844 50.925781 42.394531 50.878906 41.941406 C 50.679688 40.09375 49.679688 38.320312 48.210938 37.191406 C 48.183594 37.167969 48.140625 37.160156 48.105469 37.144531 C 47.609375 34.792969 47.425781 32.386719 47.554688 29.988281 C 48.566406 29.519531 48.972656 28.355469 49.007812 27.460938 C 49.015625 27.09375 48.980469 26.734375 48.9375 26.390625 C 49.035156 26.402344 49.128906 26.421875 49.226562 26.421875 C 49.238281 26.421875 49.25 26.421875 49.265625 26.421875 C 49.71875 26.421875 50.207031 26.292969 50.753906 26.03125 C 50.863281 25.980469 50.941406 25.871094 50.953125 25.75 C 50.96875 25.632812 50.914062 25.511719 50.828125 25.433594 C 50.390625 25.082031 49.878906 24.792969 49.25 24.542969 C 49.164062 24.507812 49.0625 24.472656 48.960938 24.445312 C 48.972656 24.441406 48.988281 24.441406 49 24.433594 C 49.773438 24.191406 50.417969 23.5625 50.683594 22.796875 C 50.71875 22.695312 50.699219 22.578125 50.648438 22.488281 C 50.589844 22.398438 50.496094 22.335938 50.386719 22.328125 C 50.035156 22.285156 49.667969 22.242188 49.289062 22.28125 C 49.203125 22.289062 49.117188 22.304688 49.039062 22.324219 C 49.039062 22.148438 49.035156 21.976562 49.023438 21.804688 C 49.539062 21.78125 50.042969 21.558594 50.40625 21.1875 C 50.777344 20.804688 50.996094 20.277344 51.003906 19.746094 C 51.003906 19.640625 50.957031 19.535156 50.878906 19.46875 C 50.800781 19.398438 50.691406 19.375 50.585938 19.386719 C 50.316406 19.441406 50.050781 19.515625 49.792969 19.605469 C 49.882812 19.394531 49.953125 19.171875 50 18.941406 C 50.171875 18.089844 50.023438 17.171875 49.59375 16.421875 C 49.363281 16.027344 49.007812 15.628906 48.558594 15.398438 C 49.019531 14.507812 49.316406 13.523438 49.417969 12.519531 C 49.441406 12.242188 49.453125 11.941406 49.367188 11.636719 C 49.3125 11.433594 49.214844 11.246094 49.089844 11.089844 C 49.894531 9.050781 50.308594 6.828125 50.273438 4.636719 C 50.269531 4.273438 49.976562 3.980469 49.613281 3.980469 L 49.609375 3.980469 C 49.488281 3.980469 49.371094 4.015625 49.28125 4.078125 C 49.265625 4.085938 49.242188 4.085938 49.234375 4.097656 C 48.519531 4.53125 47.863281 5.042969 47.265625 5.617188 C 47.109375 5.507812 46.914062 5.46875 46.730469 5.511719 C 46.5625 5.539062 46.402344 5.636719 46.296875 5.792969 C 45.046875 7.625 43.851562 9.527344 42.730469 11.449219 C 41.886719 11.160156 40.863281 11.351562 40.089844 11.972656 C 39.503906 12.433594 39.066406 13.113281 38.765625 13.972656 C 38.1875 14.242188 37.714844 14.699219 37.425781 15.269531 C 37.28125 15.28125 37.132812 15.3125 36.996094 15.382812 C 36.695312 15.53125 36.503906 15.777344 36.371094 15.976562 C 35.933594 16.628906 35.667969 17.394531 35.582031 18.183594 C 35.367188 18.261719 35.167969 18.398438 35.011719 18.582031 C 34.78125 18.855469 34.671875 19.167969 34.59375 19.433594 C 34.257812 20.621094 34.28125 21.859375 34.332031 22.980469 C 33.886719 23.5625 33.644531 24.363281 33.617188 25.371094 C 33.609375 25.636719 33.613281 25.90625 33.617188 26.167969 C 33.632812 26.691406 33.644531 27.1875 33.546875 27.648438 C 33.515625 27.828125 33.464844 28.003906 33.417969 28.179688 C 33.308594 28.570312 33.179688 29.011719 33.1875 29.480469 C 33.199219 30.09375 33.417969 30.632812 33.609375 31.109375 C 33.707031 31.355469 33.804688 31.59375 33.867188 31.820312 C 33.921875 32.019531 33.957031 32.230469 33.996094 32.457031 C 34.054688 32.824219 34.121094 33.199219 34.261719 33.578125 C 34.429688 34 34.734375 34.421875 35.148438 34.6875 C 34.90625 34.835938 34.613281 34.941406 34.28125 34.972656 C 33.695312 35.03125 33.074219 34.90625 32.382812 34.757812 L 32.3125 34.734375 C 31.605469 34.578125 30.875 34.421875 30.101562 34.457031 C 28.601562 34.539062 27.210938 35.429688 26.480469 36.734375 C 24.785156 37.601562 23.035156 38.40625 21.269531 39.140625 L 19.941406 37.371094 C 20.335938 36.824219 20.601562 36.230469 20.699219 35.617188 C 20.832031 34.789062 20.660156 33.941406 20.222656 33.296875 C 19.820312 32.707031 19.207031 32.308594 18.546875 32.171875 L 18.25 31.246094 C 18.679688 30.953125 19.011719 30.539062 19.277344 30.152344 L 19.382812 30 C 19.648438 29.601562 19.910156 29.226562 20.242188 29.027344 C 20.40625 28.933594 20.613281 28.859375 20.832031 28.789062 C 21.007812 28.734375 21.167969 28.675781 21.335938 28.609375 C 22.023438 28.316406 22.46875 27.835938 22.574219 27.253906 C 22.703125 26.578125 22.324219 25.839844 21.65625 25.464844 C 21.117188 25.167969 20.519531 25.140625 20.050781 25.136719 C 19.058594 25.152344 18.058594 25.332031 17.113281 25.652344 C 17.074219 25.441406 17.027344 25.230469 16.957031 25.011719 C 16.773438 24.402344 16.476562 23.933594 16.074219 23.628906 C 15.496094 23.183594 14.726562 23.109375 14.160156 23.445312 C 13.734375 23.691406 13.4375 24.144531 13.339844 24.675781 C 13.257812 25.097656 13.3125 25.511719 13.367188 25.855469 C 13.449219 26.320312 13.566406 26.773438 13.707031 27.226562 C 13.136719 27.445312 12.621094 27.816406 12.230469 28.292969 C 11.683594 28.960938 11.390625 29.839844 11.414062 30.703125 C 11.417969 30.726562 11.429688 30.742188 11.429688 30.765625 C 11.222656 31.757812 11.316406 32.8125 11.699219 33.75 C 11.5 33.980469 11.355469 34.257812 11.285156 34.550781 C 11.050781 34.699219 10.859375 34.921875 10.742188 35.191406 C 10.632812 35.453125 10.589844 35.742188 10.609375 36.097656 C 10.652344 37.019531 11.082031 37.890625 11.785156 38.488281 C 12.367188 38.988281 13.101562 39.261719 13.855469 39.289062 C 14.472656 41.28125 15.3125 43.199219 16.363281 45 C 16.613281 45.4375 16.933594 45.917969 17.484375 46.164062 C 17.761719 46.289062 18.042969 46.328125 18.300781 46.328125 C 18.574219 46.328125 18.832031 46.28125 19.027344 46.25 C 22.347656 45.695312 25.632812 44.839844 28.808594 43.710938 C 29.703125 44.90625 30.1875 46.53125 30.335938 48.808594 C 30.378906 49.460938 30.394531 50.136719 30.402344 50.789062 C 30.433594 51.972656 30.46875 53.195312 30.652344 54.40625 C 29.949219 55.308594 29.75 56.578125 30.15625 57.644531 C 30.136719 57.71875 30.125 57.792969 30.125 57.867188 C 30.140625 58.398438 29.945312 58.941406 29.730469 59.527344 C 29.515625 60.117188 29.289062 60.726562 29.253906 61.414062 C 29.230469 61.808594 29.285156 62.191406 29.324219 62.550781 C 29.371094 62.882812 29.410156 63.195312 29.394531 63.484375 C 29.371094 63.796875 29.285156 64.117188 29.191406 64.457031 C 29.121094 64.695312 29.058594 64.9375 29.011719 65.171875 C 28.761719 66.4375 28.992188 67.714844 29.191406 68.835938 C 29.195312 68.867188 29.214844 68.890625 29.21875 68.914062 C 28.742188 69.523438 28.617188 70.425781 28.894531 71.425781 C 28.964844 71.664062 29.042969 71.902344 29.121094 72.132812 C 29.289062 72.601562 29.445312 73.039062 29.433594 73.457031 C 29.429688 73.9375 29.210938 74.429688 28.972656 74.949219 C 28.832031 75.269531 28.679688 75.605469 28.566406 75.964844 C 28.253906 76.949219 28.28125 77.984375 28.300781 78.890625 C 28.332031 80.089844 28.359375 81.328125 28.683594 82.550781 C 29.132812 84.238281 30.125 85.714844 31.007812 87.023438 C 31.046875 87.886719 31.09375 88.855469 31.386719 89.761719 C 31.703125 90.742188 32.261719 91.511719 32.976562 91.988281 C 32.980469 92.765625 33.269531 93.53125 33.777344 94.109375 C 34.078125 96.855469 33.980469 99.632812 33.488281 102.347656 C 33.421875 102.707031 33.65625 103.054688 34.015625 103.121094 C 34.054688 103.128906 34.09375 103.128906 34.136719 103.128906 C 34.160156 103.128906 34.179688 103.121094 34.203125 103.121094 L 34.910156 103.390625 C 35.066406 103.449219 35.238281 103.507812 35.40625 103.570312 L 34.652344 104.023438 C 34.113281 104.34375 33.378906 104.78125 33.035156 105.570312 C 32.820312 106.0625 32.847656 106.582031 33.097656 106.960938 C 33.324219 107.285156 33.644531 107.425781 33.851562 107.515625 C 34.734375 107.90625 35.59375 108.242188 36.480469 108.242188 C 36.769531 108.242188 37.0625 108.207031 37.355469 108.121094 C 38.160156 107.894531 38.753906 107.378906 39.332031 106.871094 C 39.796875 106.46875 40.230469 106.085938 40.722656 105.917969 C 41.082031 105.800781 41.496094 105.785156 41.933594 105.765625 C 42.085938 105.761719 42.238281 105.757812 42.386719 105.75 C 42.996094 105.710938 43.875 105.582031 44.515625 104.949219 C 44.953125 104.503906 45.199219 103.859375 45.191406 103.175781 C 45.1875 102.8125 45.113281 102.445312 44.972656 102.082031 C 45.488281 101.628906 45.789062 100.933594 45.710938 100.238281 C 45.628906 99.523438 45.160156 98.902344 44.53125 98.59375 C 44.519531 98.484375 44.496094 98.367188 44.457031 98.257812 C 45.09375 97.953125 45.617188 97.4375 46.082031 96.933594 C 47.371094 95.542969 48.726562 94.023438 49.953125 92.367188 C 51.109375 90.796875 52.132812 89.132812 53.121094 87.515625 C 53.617188 86.707031 54.089844 85.847656 54.089844 84.910156 C 54.988281 84.464844 55.664062 83.582031 55.855469 82.59375 C 56.574219 82.421875 57.265625 81.9375 57.863281 81.160156 C 58.070312 80.882812 58.257812 80.597656 58.441406 80.328125 C 58.699219 79.9375 58.933594 79.574219 59.222656 79.265625 C 59.550781 78.914062 59.957031 78.617188 60.386719 78.304688 C 60.625 78.136719 60.859375 77.964844 61.085938 77.785156 C 62.011719 77.03125 62.550781 76.222656 62.6875 75.367188 C 62.8125 74.550781 62.582031 73.789062 62.320312 73.074219 C 61.992188 72.152344 61.601562 71.171875 61 70.304688 C 60.582031 69.699219 60.074219 69.171875 59.589844 68.667969 C 59.261719 68.328125 58.949219 67.996094 58.660156 67.652344 C 57.292969 65.988281 56.570312 63.859375 55.878906 61.804688 C 56.25 61.199219 56.292969 60.410156 55.964844 59.777344 C 55.785156 59.433594 55.507812 59.160156 55.175781 58.96875 C 55.203125 58.894531 55.234375 58.832031 55.253906 58.753906 C 55.289062 58.597656 55.289062 58.441406 55.273438 58.289062 C 55.429688 58.292969 55.589844 58.316406 55.746094 58.339844 L 55.925781 58.375 C 56.238281 58.429688 56.574219 58.492188 56.929688 58.492188 C 57.097656 58.492188 57.273438 58.476562 57.453125 58.445312 C 58.179688 58.292969 58.9375 57.664062 58.914062 56.785156 C 58.910156 56.542969 58.84375 56.324219 58.746094 56.132812 C 58.871094 56.085938 59 56.035156 59.117188 55.96875 C 59.273438 56.421875 59.339844 56.914062 59.289062 57.386719 C 59.214844 58.089844 58.910156 58.761719 58.433594 59.277344 C 58.332031 59.386719 58.292969 59.515625 58.273438 59.648438 C 58.265625 59.683594 58.265625 59.710938 58.257812 59.738281 C 58.257812 59.746094 58.257812 59.753906 58.257812 59.757812 C 58.257812 59.8125 58.257812 59.867188 58.265625 59.925781 C 58.320312 60.25 58.597656 60.472656 58.914062 60.472656 C 58.953125 60.472656 58.988281 60.472656 59.027344 60.460938 C 60.464844 60.207031 61.769531 59.191406 62.609375 57.667969 C 63.140625 56.71875 63.445312 55.675781 63.667969 54.636719 C 63.730469 54.625 63.796875 54.605469 63.859375 54.578125 C 64.183594 54.40625 64.3125 54.003906 64.144531 53.679688 C 63.929688 53.265625 63.773438 52.8125 63.613281 52.332031"
          />
          
          {/* Main path - filled version with animation */}
          <path
            fill="url(#fillGradient)"
            d="M 47.597656 53.265625 C 47.726562 53.546875 47.886719 53.871094 48.128906 54.167969 C 48.054688 54.3125 47.984375 54.464844 47.933594 54.617188 C 47.765625 54.398438 47.597656 54.179688 47.429688 53.976562 L 47.363281 53.894531 C 46.765625 53.140625 46.214844 52.398438 46.097656 51.570312 C 46.042969 51.164062 46.097656 50.738281 46.203125 50.316406 Z M 63.613281 52.332031 L 63.515625 52.03125 C 63.296875 51.402344 63.039062 50.742188 62.628906 50.167969 C 62.121094 49.472656 61.449219 49.011719 60.722656 48.867188 C 60.039062 48.730469 59.34375 48.90625 58.839844 49.304688 C 58.425781 49.082031 57.945312 48.988281 57.472656 49.058594 C 56.933594 49.132812 56.441406 49.417969 56.097656 49.828125 C 54.90625 49.636719 53.695312 49.53125 52.480469 49.519531 C 52.371094 48.582031 52.03125 47.714844 51.699219 46.867188 C 51.398438 46.113281 51.121094 45.398438 51.007812 44.664062 C 50.945312 44.21875 50.941406 43.761719 50.933594 43.273438 C 50.925781 42.839844 50.925781 42.394531 50.878906 41.941406 C 50.679688 40.09375 49.679688 38.320312 48.210938 37.191406 C 48.183594 37.167969 48.140625 37.160156 48.105469 37.144531 C 47.609375 34.792969 47.425781 32.386719 47.554688 29.988281 C 48.566406 29.519531 48.972656 28.355469 49.007812 27.460938 C 49.015625 27.09375 48.980469 26.734375 48.9375 26.390625 C 49.035156 26.402344 49.128906 26.421875 49.226562 26.421875 C 49.238281 26.421875 49.25 26.421875 49.265625 26.421875 C 49.71875 26.421875 50.207031 26.292969 50.753906 26.03125 C 50.863281 25.980469 50.941406 25.871094 50.953125 25.75 C 50.96875 25.632812 50.914062 25.511719 50.828125 25.433594 C 50.390625 25.082031 49.878906 24.792969 49.25 24.542969 C 49.164062 24.507812 49.0625 24.472656 48.960938 24.445312 C 48.972656 24.441406 48.988281 24.441406 49 24.433594 C 49.773438 24.191406 50.417969 23.5625 50.683594 22.796875 C 50.71875 22.695312 50.699219 22.578125 50.648438 22.488281 C 50.589844 22.398438 50.496094 22.335938 50.386719 22.328125 C 50.035156 22.285156 49.667969 22.242188 49.289062 22.28125 C 49.203125 22.289062 49.117188 22.304688 49.039062 22.324219 C 49.039062 22.148438 49.035156 21.976562 49.023438 21.804688 C 49.539062 21.78125 50.042969 21.558594 50.40625 21.1875 C 50.777344 20.804688 50.996094 20.277344 51.003906 19.746094 C 51.003906 19.640625 50.957031 19.535156 50.878906 19.46875 C 50.800781 19.398438 50.691406 19.375 50.585938 19.386719 C 50.316406 19.441406 50.050781 19.515625 49.792969 19.605469 C 49.882812 19.394531 49.953125 19.171875 50 18.941406 C 50.171875 18.089844 50.023438 17.171875 49.59375 16.421875 C 49.363281 16.027344 49.007812 15.628906 48.558594 15.398438 C 49.019531 14.507812 49.316406 13.523438 49.417969 12.519531 C 49.441406 12.242188 49.453125 11.941406 49.367188 11.636719 C 49.3125 11.433594 49.214844 11.246094 49.089844 11.089844 C 49.894531 9.050781 50.308594 6.828125 50.273438 4.636719 C 50.269531 4.273438 49.976562 3.980469 49.613281 3.980469 L 49.609375 3.980469 C 49.488281 3.980469 49.371094 4.015625 49.28125 4.078125 C 49.265625 4.085938 49.242188 4.085938 49.234375 4.097656 C 48.519531 4.53125 47.863281 5.042969 47.265625 5.617188 C 47.109375 5.507812 46.914062 5.46875 46.730469 5.511719 C 46.5625 5.539062 46.402344 5.636719 46.296875 5.792969 C 45.046875 7.625 43.851562 9.527344 42.730469 11.449219 C 41.886719 11.160156 40.863281 11.351562 40.089844 11.972656 C 39.503906 12.433594 39.066406 13.113281 38.765625 13.972656 C 38.1875 14.242188 37.714844 14.699219 37.425781 15.269531 C 37.28125 15.28125 37.132812 15.3125 36.996094 15.382812 C 36.695312 15.53125 36.503906 15.777344 36.371094 15.976562 C 35.933594 16.628906 35.667969 17.394531 35.582031 18.183594 C 35.367188 18.261719 35.167969 18.398438 35.011719 18.582031 C 34.78125 18.855469 34.671875 19.167969 34.59375 19.433594 C 34.257812 20.621094 34.28125 21.859375 34.332031 22.980469 C 33.886719 23.5625 33.644531 24.363281 33.617188 25.371094 C 33.609375 25.636719 33.613281 25.90625 33.617188 26.167969 C 33.632812 26.691406 33.644531 27.1875 33.546875 27.648438 C 33.515625 27.828125 33.464844 28.003906 33.417969 28.179688 C 33.308594 28.570312 33.179688 29.011719 33.1875 29.480469 C 33.199219 30.09375 33.417969 30.632812 33.609375 31.109375 C 33.707031 31.355469 33.804688 31.59375 33.867188 31.820312 C 33.921875 32.019531 33.957031 32.230469 33.996094 32.457031 C 34.054688 32.824219 34.121094 33.199219 34.261719 33.578125 C 34.429688 34 34.734375 34.421875 35.148438 34.6875 C 34.90625 34.835938 34.613281 34.941406 34.28125 34.972656 C 33.695312 35.03125 33.074219 34.90625 32.382812 34.757812 L 32.3125 34.734375 C 31.605469 34.578125 30.875 34.421875 30.101562 34.457031 C 28.601562 34.539062 27.210938 35.429688 26.480469 36.734375 C 24.785156 37.601562 23.035156 38.40625 21.269531 39.140625 L 19.941406 37.371094 C 20.335938 36.824219 20.601562 36.230469 20.699219 35.617188 C 20.832031 34.789062 20.660156 33.941406 20.222656 33.296875 C 19.820312 32.707031 19.207031 32.308594 18.546875 32.171875 L 18.25 31.246094 C 18.679688 30.953125 19.011719 30.539062 19.277344 30.152344 L 19.382812 30 C 19.648438 29.601562 19.910156 29.226562 20.242188 29.027344 C 20.40625 28.933594 20.613281 28.859375 20.832031 28.789062 C 21.007812 28.734375 21.167969 28.675781 21.335938 28.609375 C 22.023438 28.316406 22.46875 27.835938 22.574219 27.253906 C 22.703125 26.578125 22.324219 25.839844 21.65625 25.464844 C 21.117188 25.167969 20.519531 25.140625 20.050781 25.136719 C 19.058594 25.152344 18.058594 25.332031 17.113281 25.652344 C 17.074219 25.441406 17.027344 25.230469 16.957031 25.011719 C 16.773438 24.402344 16.476562 23.933594 16.074219 23.628906 C 15.496094 23.183594 14.726562 23.109375 14.160156 23.445312 C 13.734375 23.691406 13.4375 24.144531 13.339844 24.675781 C 13.257812 25.097656 13.3125 25.511719 13.367188 25.855469 C 13.449219 26.320312 13.566406 26.773438 13.707031 27.226562 C 13.136719 27.445312 12.621094 27.816406 12.230469 28.292969 C 11.683594 28.960938 11.390625 29.839844 11.414062 30.703125 C 11.417969 30.726562 11.429688 30.742188 11.429688 30.765625 C 11.222656 31.757812 11.316406 32.8125 11.699219 33.75 C 11.5 33.980469 11.355469 34.257812 11.285156 34.550781 C 11.050781 34.699219 10.859375 34.921875 10.742188 35.191406 C 10.632812 35.453125 10.589844 35.742188 10.609375 36.097656 C 10.652344 37.019531 11.082031 37.890625 11.785156 38.488281 C 12.367188 38.988281 13.101562 39.261719 13.855469 39.289062 C 14.472656 41.28125 15.3125 43.199219 16.363281 45 C 16.613281 45.4375 16.933594 45.917969 17.484375 46.164062 C 17.761719 46.289062 18.042969 46.328125 18.300781 46.328125 C 18.574219 46.328125 18.832031 46.28125 19.027344 46.25 C 22.347656 45.695312 25.632812 44.839844 28.808594 43.710938 C 29.703125 44.90625 30.1875 46.53125 30.335938 48.808594 C 30.378906 49.460938 30.394531 50.136719 30.402344 50.789062 C 30.433594 51.972656 30.46875 53.195312 30.652344 54.40625 C 29.949219 55.308594 29.75 56.578125 30.15625 57.644531 C 30.136719 57.71875 30.125 57.792969 30.125 57.867188 C 30.140625 58.398438 29.945312 58.941406 29.730469 59.527344 C 29.515625 60.117188 29.289062 60.726562 29.253906 61.414062 C 29.230469 61.808594 29.285156 62.191406 29.324219 62.550781 C 29.371094 62.882812 29.410156 63.195312 29.394531 63.484375 C 29.371094 63.796875 29.285156 64.117188 29.191406 64.457031 C 29.121094 64.695312 29.058594 64.9375 29.011719 65.171875 C 28.761719 66.4375 28.992188 67.714844 29.191406 68.835938 C 29.195312 68.867188 29.214844 68.890625 29.21875 68.914062 C 28.742188 69.523438 28.617188 70.425781 28.894531 71.425781 C 28.964844 71.664062 29.042969 71.902344 29.121094 72.132812 C 29.289062 72.601562 29.445312 73.039062 29.433594 73.457031 C 29.429688 73.9375 29.210938 74.429688 28.972656 74.949219 C 28.832031 75.269531 28.679688 75.605469 28.566406 75.964844 C 28.253906 76.949219 28.28125 77.984375 28.300781 78.890625 C 28.332031 80.089844 28.359375 81.328125 28.683594 82.550781 C 29.132812 84.238281 30.125 85.714844 31.007812 87.023438 C 31.046875 87.886719 31.09375 88.855469 31.386719 89.761719 C 31.703125 90.742188 32.261719 91.511719 32.976562 91.988281 C 32.980469 92.765625 33.269531 93.53125 33.777344 94.109375 C 34.078125 96.855469 33.980469 99.632812 33.488281 102.347656 C 33.421875 102.707031 33.65625 103.054688 34.015625 103.121094 C 34.054688 103.128906 34.09375 103.128906 34.136719 103.128906 C 34.160156 103.128906 34.179688 103.121094 34.203125 103.121094 L 34.910156 103.390625 C 35.066406 103.449219 35.238281 103.507812 35.40625 103.570312 L 34.652344 104.023438 C 34.113281 104.34375 33.378906 104.78125 33.035156 105.570312 C 32.820312 106.0625 32.847656 106.582031 33.097656 106.960938 C 33.324219 107.285156 33.644531 107.425781 33.851562 107.515625 C 34.734375 107.90625 35.59375 108.242188 36.480469 108.242188 C 36.769531 108.242188 37.0625 108.207031 37.355469 108.121094 C 38.160156 107.894531 38.753906 107.378906 39.332031 106.871094 C 39.796875 106.46875 40.230469 106.085938 40.722656 105.917969 C 41.082031 105.800781 41.496094 105.785156 41.933594 105.765625 C 42.085938 105.761719 42.238281 105.757812 42.386719 105.75 C 42.996094 105.710938 43.875 105.582031 44.515625 104.949219 C 44.953125 104.503906 45.199219 103.859375 45.191406 103.175781 C 45.1875 102.8125 45.113281 102.445312 44.972656 102.082031 C 45.488281 101.628906 45.789062 100.933594 45.710938 100.238281 C 45.628906 99.523438 45.160156 98.902344 44.53125 98.59375 C 44.519531 98.484375 44.496094 98.367188 44.457031 98.257812 C 45.09375 97.953125 45.617188 97.4375 46.082031 96.933594 C 47.371094 95.542969 48.726562 94.023438 49.953125 92.367188 C 51.109375 90.796875 52.132812 89.132812 53.121094 87.515625 C 53.617188 86.707031 54.089844 85.847656 54.089844 84.910156 C 54.988281 84.464844 55.664062 83.582031 55.855469 82.59375 C 56.574219 82.421875 57.265625 81.9375 57.863281 81.160156 C 58.070312 80.882812 58.257812 80.597656 58.441406 80.328125 C 58.699219 79.9375 58.933594 79.574219 59.222656 79.265625 C 59.550781 78.914062 59.957031 78.617188 60.386719 78.304688 C 60.625 78.136719 60.859375 77.964844 61.085938 77.785156 C 62.011719 77.03125 62.550781 76.222656 62.6875 75.367188 C 62.8125 74.550781 62.582031 73.789062 62.320312 73.074219 C 61.992188 72.152344 61.601562 71.171875 61 70.304688 C 60.582031 69.699219 60.074219 69.171875 59.589844 68.667969 C 59.261719 68.328125 58.949219 67.996094 58.660156 67.652344 C 57.292969 65.988281 56.570312 63.859375 55.878906 61.804688 C 56.25 61.199219 56.292969 60.410156 55.964844 59.777344 C 55.785156 59.433594 55.507812 59.160156 55.175781 58.96875 C 55.203125 58.894531 55.234375 58.832031 55.253906 58.753906 C 55.289062 58.597656 55.289062 58.441406 55.273438 58.289062 C 55.429688 58.292969 55.589844 58.316406 55.746094 58.339844 L 55.925781 58.375 C 56.238281 58.429688 56.574219 58.492188 56.929688 58.492188 C 57.097656 58.492188 57.273438 58.476562 57.453125 58.445312 C 58.179688 58.292969 58.9375 57.664062 58.914062 56.785156 C 58.910156 56.542969 58.84375 56.324219 58.746094 56.132812 C 58.871094 56.085938 59 56.035156 59.117188 55.96875 C 59.273438 56.421875 59.339844 56.914062 59.289062 57.386719 C 59.214844 58.089844 58.910156 58.761719 58.433594 59.277344 C 58.332031 59.386719 58.292969 59.515625 58.273438 59.648438 C 58.265625 59.683594 58.265625 59.710938 58.257812 59.738281 C 58.257812 59.746094 58.257812 59.753906 58.257812 59.757812 C 58.257812 59.8125 58.257812 59.867188 58.265625 59.925781 C 58.320312 60.25 58.597656 60.472656 58.914062 60.472656 C 58.953125 60.472656 58.988281 60.472656 59.027344 60.460938 C 60.464844 60.207031 61.769531 59.191406 62.609375 57.667969 C 63.140625 56.71875 63.445312 55.675781 63.667969 54.636719 C 63.730469 54.625 63.796875 54.605469 63.859375 54.578125 C 64.183594 54.40625 64.3125 54.003906 64.144531 53.679688 C 63.929688 53.265625 63.773438 52.8125 63.613281 52.332031"
            style={{
              transition: 'fill 0.5s ease'
            }}
          />
          
          {/* Progress indicator */}
          <circle
            cx="37.5"
            cy="112"
            r="2"
            fill="currentColor"
            opacity={isAnimating ? "1" : "0"}
            style={{
              transform: `scale(${0.8 + progress * 0.4})`,
              transition: 'opacity 0.3s ease, transform 0.1s ease'
            }}
          />
          
          {/* Loading text */}
          <text
            x="37.5"
            y="125"
            textAnchor="middle"
            fontSize="8"
            fill="currentColor"
            opacity={isAnimating ? "1" : "0"}
            style={{ 
              fontFamily: 'Arial, sans-serif',
              transition: 'opacity 0.3s ease' 
            }}
          >
            Loading... {Math.round(progress * 100)}%
          </text>
        </g>
      </svg>
    </div>
  );
};

export default ApsaraLoadingSpinner;